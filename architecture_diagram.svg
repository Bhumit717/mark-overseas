<svg width="1400" height="1000" viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
    <style>
        text { font-family: 'Segoe UI', Arial, sans-serif; }
        .title { font-size: 28px; font-weight: bold; fill: #333; }
        .subtitle { font-size: 14px; fill: #666; }
        .group-label { font-size: 18px; font-weight: bold; fill: #555; text-transform: uppercase; letter-spacing: 1px; }
        .node-label { font-size: 14px; font-weight: bold; fill: #000; text-anchor: middle; }
        .node-sublabel { font-size: 11px; fill: #555; text-anchor: middle; }
        .flow-label { font-size: 11px; fill: #444; background: white; padding: 2px; }
        
        /* Zones */
        .zone-dev { fill: #f3e5f5; stroke: #ab47bc; stroke-width: 2; rx: 15; }
        .zone-client { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; rx: 15; }
        .zone-cloud { fill: #e8f5e9; stroke: #388e3c; stroke-width: 2; rx: 15; }
        .zone-external { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; rx: 15; }

        /* Node Shapes */
        .node-rect { fill: white; stroke: #333; stroke-width: 2; rx: 8; filter: drop-shadow(3px 3px 2px rgba(0,0,0,0.1)); }
        .node-db { fill: white; stroke: #d32f2f; stroke-width: 2; }
        .node-script { fill: #fffde7; stroke: #fbc02d; stroke-width: 2; rx: 8; }
        .node-security { fill: #ffebee; stroke: #c62828; stroke-width: 2; rx: 20; }
        
        /* Specific Colors */
        .stroke-html { stroke: #e65100; }
        .stroke-js { stroke: #fdd835; }
        .stroke-api { stroke: #43a047; }
        .stroke-db { stroke: #d32f2f; }
        
        /* Connectors - KEY FIX: fill: none to prevent black polygons */
        .arrow { fill: none; stroke: #555; stroke-width: 1.5; marker-end: url(#arrowhead); }
        .arrow-dashed { fill: none; stroke: #777; stroke-width: 1.5; stroke-dasharray: 5,5; marker-end: url(#arrowhead); }
    </style>

    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
        </marker>
    </defs>

    <!-- Background -->
    <rect width="100%" height="100%" fill="#ffffff" />
    <text x="700" y="50" class="title" text-anchor="middle">Mark Overseas - Detailed System Architecture (Full Stack)</text>
    <text x="700" y="75" class="subtitle" text-anchor="middle">Generated by Antigravity | Date: 2026-02-14</text>

    <!-- ================= ZONES ================= -->

    <!-- 1. Local Development Zone -->
    <rect x="50" y="120" width="300" height="800" class="zone-dev" />
    <text x="200" y="150" class="group-label" text-anchor="middle">Local Environment</text>

    <!-- 2. Client / Browser Zone -->
    <rect x="400" y="120" width="500" height="800" class="zone-client" />
    <text x="650" y="150" class="group-label" text-anchor="middle">Client Browser (Frontend)</text>

    <!-- 3. Serverless & Cloud Zone -->
    <rect x="950" y="120" width="400" height="450" class="zone-cloud" />
    <text x="1150" y="150" class="group-label" text-anchor="middle">Serverless &amp; Database</text>

    <!-- 4. External Services Zone -->
    <rect x="950" y="600" width="400" height="320" class="zone-external" />
    <text x="1150" y="630" class="group-label" text-anchor="middle">External Services</text>

    <!-- ================= NODES ================= -->

    <!-- API Node (Moved up z-index by placing later) -->
    <g transform="translate(1050, 180)">
        <rect width="200" height="90" class="node-rect stroke-api" />
        <text x="100" y="30" class="node-label">Vercel Serverless Function</text>
        <text x="100" y="50" class="node-sublabel">/api/send-email.js</text>
        <rect x="30" y="60" width="140" height="20" rx="10" fill="#c8e6c9" />
        <text x="100" y="74" font-size="10" text-anchor="middle" fill="#2e7d32">CORS &amp; Env Vars Check</text>
    </g>

    <!-- LOCAL DEV NODES -->
    <g transform="translate(100, 200)">
        <rect width="200" height="70" class="node-script" />
        <text x="100" y="30" class="node-label">generate-product-pages.py</text>
        <text x="100" y="50" class="node-sublabel">Python Builder Script</text>
    </g>

    <g transform="translate(100, 320)">
        <rect width="200" height="70" class="node-rect" stroke-dasharray="4,2" />
        <text x="100" y="30" class="node-label">Product Data (Dict)</text>
        <text x="100" y="50" class="node-sublabel">Source Content for 50+ items</text>
    </g>

    <g transform="translate(100, 500)">
        <rect width="200" height="70" class="node-rect" />
        <text x="100" y="30" class="node-label">Git / GitHub</text>
        <text x="100" y="50" class="node-sublabel">Version Control</text>
    </g>

    <!-- BROWSER NODES -->
    
    <!-- Static Pages -->
    <g transform="translate(450, 200)">
        <rect width="180" height="100" class="node-rect stroke-html" />
        <text x="90" y="30" class="node-label">Static Pages</text>
        <text x="90" y="50" class="node-sublabel">index.html (Home)</text>
        <text x="90" y="65" class="node-sublabel">about-us.html</text>
        <text x="90" y="80" class="node-sublabel">exports.html</text>
    </g>

    <g transform="translate(680, 200)">
        <rect width="180" height="100" class="node-rect stroke-html" />
        <text x="90" y="30" class="node-label">Generated Products</text>
        <text x="90" y="50" class="node-sublabel">product-*.html (x50)</text>
        <text x="90" y="70" class="node-sublabel">SEO Optimized</text>
    </g>

    <!-- Dynamic Modules -->
    <g transform="translate(450, 450)">
        <rect width="410" height="120" class="node-rect" style="fill: #fdfdfd;" />
        <text x="205" y="25" class="node-label" style="fill: #004d40;">Dynamic Scripts &amp; Assets</text>
        
        <!-- Inner Modules -->
        <rect x="20" y="40" width="100" height="30" rx="5" fill="#e0f2f1" stroke="#004d40" />
        <text x="70" y="60" font-size="10" text-anchor="middle">Bootstrap 5</text>
        
        <rect x="140" y="40" width="100" height="30" rx="5" fill="#e0f2f1" stroke="#004d40" />
        <text x="190" y="60" font-size="10" text-anchor="middle">AOS Animation</text>
        
        <rect x="260" y="40" width="100" height="30" rx="5" fill="#e0f2f1" stroke="#004d40" />
        <text x="310" y="60" font-size="10" text-anchor="middle">LottieFiles</text>

        <rect x="20" y="80" width="180" height="30" rx="5" fill="#fff9c4" stroke="#fbc02d" />
        <text x="110" y="100" font-size="10" text-anchor="middle">logo-video.js (Hero Video)</text>

        <rect x="220" y="80" width="170" height="30" rx="5" fill="#fff9c4" stroke="#fbc02d" />
        <text x="305" y="100" font-size="10" text-anchor="middle">language-selector.js</text>
    </g>

    <!-- Forms & Admin -->
    <g transform="translate(450, 650)">
        <rect width="180" height="80" class="node-rect stroke-js" />
        <text x="90" y="30" class="node-label">Contact Form</text>
        <text x="90" y="50" class="node-sublabel">contact-us.html</text>
        <text x="90" y="65" class="node-sublabel">(Validation + Submission)</text>
    </g>

    <g transform="translate(680, 650)">
        <rect width="180" height="80" class="node-rect stroke-js" style="fill: #ffebee;" />
        <text x="90" y="30" class="node-label" fill="#c62828">Admin Dashboard</text>
        <text x="90" y="50" class="node-sublabel">admin.html (SPA)</text>
        <text x="90" y="65" class="node-sublabel">Protected Route</text>
    </g>

    <g transform="translate(1050, 350)">
        <path d="M 0,20 L 0,80 Q 0,100 100,100 Q 200,100 200,80 L 200,20 Q 200,0 100,0 Q 0,0 0,20" class="node-db" />
        <path d="M 0,20 Q 100,40 200,20" fill="none" class="stroke-db" stroke-width="2" />
        <text x="100" y="50" class="node-label">Firestore Database</text>
        <text x="100" y="70" class="node-sublabel">Collections: 'inquiries', 'settings'</text>
        <text x="100" y="85" class="node-sublabel">Security Rules (Validation)</text>
    </g>

    <!-- EXTERNAL SERVICE NODES -->
    <g transform="translate(1000, 680)">
        <rect width="140" height="60" class="node-rect" stroke="#ea4335" />
        <text x="70" y="35" class="node-label">Gmail SMTP</text>
    </g>
    
    <g transform="translate(1180, 680)">
        <rect width="140" height="60" class="node-rect" stroke="#25d366" />
        <text x="70" y="35" class="node-label">WhatsApp API</text>
    </g>

    <g transform="translate(1000, 780)">
        <rect width="140" height="60" class="node-rect" stroke="#4285f4" />
        <text x="70" y="35" class="node-label">Google Translate</text>
    </g>

    <g transform="translate(1180, 780)">
        <rect width="140" height="60" class="node-rect" stroke="#673ab7" />
        <text x="70" y="35" class="node-label">CDNs</text>
        <text x="70" y="52" class="node-sublabel">Bootstrap, Lottie</text>
    </g>


    <!-- ================= CONNECTIONS ================= -->

    <!-- Build Process -->
    <path d="M 200 270 L 200 295 L 200 320" class="arrow" />
    <text x="210" y="300" class="flow-label">Reads Data</text>

    <path d="M 300 235 L 450 235" class="arrow-dashed" />
    <text x="360" y="225" class="flow-label">Generates Files</text>

    <path d="M 250 500 L 400 300" class="arrow" style="stroke: #f57c00;" />
    <text x="300" y="440" class="flow-label" transform="rotate(-30, 300, 440)">Deploys to Vercel</text>

    <!-- User Navigation -->
    <path d="M 630 250 L 680 250" class="arrow" />
    <text x="640" y="240" class="flow-label">Link</text>

    <!-- Assets Loading -->
    <path d="M 540 300 L 540 450" class="arrow" />
    <text x="550" y="375" class="flow-label">Loads Scripts/CSS</text>

    <!-- Form Logic -->
    <path d="M 540 730 L 540 850 L 1000 850 L 1000 740" class="arrow" style="stroke: #ea4335;" />
    <text x="750" y="840" class="flow-label">Secure POST -> Nodemailer -> Auth</text>

    <path d="M 1250 270 L 1250 600 L 1070 680" class="arrow-dashed" />
    <text x="1260" y="500" class="flow-label">SMTP Connection (TLS)</text>

    <!-- Database Writes -->
    <path d="M 630 690 L 900 690 L 900 400 L 1050 400" class="arrow" style="stroke: #d32f2f;" />
    <text x="800" y="680" class="flow-label">Firebase SDK (Direct Write)</text>

    <!-- Admin Logic -->
    <path d="M 770 650 L 770 600 L 1150 600 L 1150 450" class="arrow" style="stroke: #1976d2;" />
    <text x="910" y="590" class="flow-label">Reads Inquiries / Auth Settings</text>

    <!-- WhatsApp -->
    <path d="M 860 250 L 1340 250 L 1340 710 L 1320 710" class="arrow" style="stroke: #25d366;" />
    <text x="1250" y="240" class="flow-label">WhatsApp Click-to-Chat</text>

    <!-- Translate -->
    <path d="M 660 450 L 660 400 L 1360 400 L 1360 810 L 1140 810" class="arrow-dashed" />
    <text x="1200" y="390" class="flow-label">Widget Script Injection</text>

</svg>
